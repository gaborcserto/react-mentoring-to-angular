<ng-container *ngIf="!cached">
  <img
    *ngIf="!error"
    [hidden]="!loaded"
    [src]="src"
    [alt]="alt"
    (load)="onLoad()"
    (error)="onError()"
  >
  <img
    *ngIf="placeholder && (error || !loaded)"
    [src]="placeholder"
    [alt]="alt"
  >
</ng-container>

<ng-container *ngIf="cached">
  <img
    *ngIf="!error"
    [src]="src"
    [alt]="alt"
    (error)="onError()"
  >
  <img
    *ngIf="placeholder && error"
    [src]="placeholder"
    [alt]="alt"
  >
</ng-container>
